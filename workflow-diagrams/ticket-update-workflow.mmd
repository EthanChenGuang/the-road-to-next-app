# Ticket Update Workflow Diagram

```mermaid
flowchart TD
    A[User navigates to /tickets/[ticketId]/edit] --> B[TicketEditPage component loads]
    B --> C[getTicket query executes]
    C --> D{Ticket exists?}
    D -->|No| E[notFound() - 404 page]
    D -->|Yes| F[Render CardCompact with TicketUpdateForm]
    
    F --> G[Form displays with pre-populated data]
    G --> H[User modifies title/content]
    H --> I[User clicks Update button]
    
    I --> J[Form submits to updateTicket server action]
    J --> K[Extract FormData: ticketId, ticketTitle, ticketContent]
    K --> L{Valid data?}
    L -->|No| M[Return early - no update]
    L -->|Yes| N[prisma.ticket.update executes]
    
    N --> O[Database updated]
    O --> P[revalidatePath for /tickets]
    P --> Q[redirect to /tickets]
    Q --> R[User sees updated ticket in list]

    style A fill:#e1f5fe
    style E fill:#ffebee
    style O fill:#e8f5e8
    style R fill:#e8f5e8
```
